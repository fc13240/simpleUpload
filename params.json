{"name":"Simpleupload","tagline":"upload component with flash or html","body":"simpleUpload\r\n============\r\n\r\n　　SimpleUpload是借助JS和flash(AS3)写的上传组件，用于解决浏览器不支持多文件上传（现在HTML5已经逐渐支持）和客户端文件压缩的功能。\r\n\r\n　　内部flash的定位及上传进度条的控制是基于JQuery的。\r\n\r\n　　可使用Uglify进行压缩，参考[compress.js](https://github.com/tonny-zhang/nodeJS/tree/master/uglifyJS_compress)\r\n## 如何用？\r\n\r\n1.引入脚本及样式\r\n\r\n```\r\n<script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"></script>\r\n<script type=\"text/javascript\" src=\"../src/upload.js\"></script>\r\n<link rel=\"stylesheet\" type=\"text/css\" href=\"../src/css/reset.css\"></link>\r\n<link rel=\"stylesheet\" type=\"text/css\" href=\"../src/css/upload.css\"></link>\r\n```\r\n2.初始化\r\n\r\n```\r\n\tvar uploadObj = new Upload();\r\n\tuploadObj\r\n\t.on('mouseEnter',function(){\r\n\t\tbtn.css('background-color','red');\r\n\t})\r\n\t.on('mouseLeave',function(){\r\n\t\tbtn.css('background-color','');\r\n\t})\r\n\t.on('mouseDown',function(){\r\n\t\tbtn.css('background-color','green');\r\n\t})\r\n\t.on('mouseUp',function(){\r\n\t\tbtn.css('background-color','black');\r\n\t})\r\n\t.on('error',function(err){//错误统一调用,包括配置错误，如：没有配置url（造成无法上传数据）\r\n\t\tconsole.log('自定义error事件：',err);\r\n\t})\r\n\t.on('uploadCompleteAll',function(files){\r\n\t\tconsole.log('上传的图片为：',files,files.length);\r\n\t})\r\n\t.on({\r\n\t\t'getFiles': function(flashName,files){\r\n\t\t\t\r\n\t\t},\r\n\t\t'toMaxFiles': function(){\r\n\t\t\t\r\n\t\t}\r\n\t})\r\n\t.config('swf', '../flash/index.swf')\r\n\t.config('uploadUrl','../extra/upload.html')\r\n\t.config('btn',btn)\r\n\t.config({\r\n\t\t'thumbnailQuality': 100,\r\n\t\t'thumbnailWidth': 100,\r\n\t\t'thumbnailHeight': 100\r\n\t})\r\n\t.appendTo($('body'))//缓存容器,调用resetPos\r\n```\r\n\r\n## 有哪些API?\r\n\r\n**约定：斜体的API及属性不提倡使用**\r\n* API\r\n\t* config (配置参数)\r\n\r\n\t\t```\r\n\t\tuploadObj \r\n\t\t.config('swf', '../flash/index.swf')\r\n\t\t.config('uploadUrl','../extra/upload.html')\r\n\t\t.config('btn',btn)\r\n\t\t.config({\r\n\t\t\t'thumbnailQuality': 100,\r\n\t\t\t'thumbnailWidth': 100,\r\n\t\t\t'thumbnailHeight': 100\r\n\t\t})\r\n\t\t```\r\n\t* on (定制事件)\r\n\r\n\t\t```\r\n\t\tuploadObj\r\n\t\t.on('mouseEnter',function(){\r\n\t\t\tbtn.css('background-color','red');\r\n\t\t})\r\n\t\t.on('mouseLeave',function(){\r\n\t\t\tbtn.css('background-color','');\r\n\t\t})\r\n\t\t.on('mouseDown',function(){\r\n\t\t\tbtn.css('background-color','green');\r\n\t\t})\r\n\t\t.on('mouseUp',function(){\r\n\t\t\tbtn.css('background-color','black');\r\n\t\t})\r\n\t\t.on('error',function(err){//错误统一调用,包括配置错误，如：没有配置url（造成无法上传数据）\r\n\t\t\tconsole.log('自定义error事件：',err);\r\n\t\t})\r\n\t\t.on('uploadCompleteAll',function(files){\r\n\t\t\tconsole.log('上传的图片为：',files,files.length);\r\n\t\t})\r\n\t\t.on({\r\n\t\t\t'getFiles': function(flashName,files){\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t'toMaxFiles': function(){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t\t```\r\n\t* off (关闭事件)\r\n\t* emit (触发事件)\r\n\r\n\t\temit(eventName,eventData[,eventData...])\r\n\r\n\t\t```\r\n\t\tuploadObj\r\n\t\t.emit('getFiles',[{\"name\": \"072136xIK.jpg\",\"index\":0},{\"name\": \"测试.jpg\",\"index\":1}])\r\n\t\t.emit('uploadProcess','1',0.45);\r\n\t\t```\r\n\t* appentTo (将flash添加到指定容器)\r\n\r\n\t\t强制使用此方法，若不使用或参数不正确，内部会触发error事件\r\n\t* resetPos\r\n\r\n\t　　当初始化时按钮的形态（位置、尺寸）发生变化时，可以用此方法调整flash的位置和尺寸。要求必须配置btn和调用appendTo方法，融内部会触发error事件。\r\n\t\t\r\n\t\tuploadObj.resetPos();\r\n\t* *initEvent (初始化内部事件)*\r\n\r\n\t\t**!!不提倡使用**\r\n\t\t这里定义了默认的进度条事件，若不想使用可在使用前将基设置成空函数\r\n* 属性\r\n\t* uploadedFiles (上传完的图片信息，initEvent定义的事件里初始化)\r\n\t* name　(当前Upload实例的名称)\r\n\r\n\t\t为满足同时使用多个上传组件，数据及事件缓存都是基于此属性\r\n\t* setting (当前Upload实例的配置)\r\n\t* *processTmpl (进度条JQuery对象)*\r\n\r\n\t\t**为内部操作方便，缓存的数据,也是基于initEvent**\r\n\t* *processFiles (进度条每个文件List的JQuery对象)*\r\n\r\n\t\t**为内部操作方便，缓存的数据,也是基于initEvent**\r\n\t* container (appendTo传入的flash的容器)\r\n\t* *flashObj (flash的JQuery对象)*\r\n\r\n\r\n##有问题和Bug怎么办？\r\n　　有任何问题和Bug都欢迎到[New Issue](https://github.com/tonny-zhang/simpleUpload/issues/new)进行交流。","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}